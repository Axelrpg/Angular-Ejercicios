<app-title title="Formulario Reactivo" />

<div class="max-w-md mx-auto p-4">
  <form (formdata)="reactiveForm" (ngSubmit)="onSubmit()">

    <div class="mb-4">
      <label for="name" class="block text-sm font-medium text-gray-700">
        Nombre
      </label>
      <input type="text" id="name" formControlName="name"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:border-blue-300">
      <div *ngIf="reactiveForm.get('name')?.invalid && reactiveForm.get('name')?.touched" class="text-red-500 text-sm">
        <div *ngIf="reactiveForm.get('name')?.errors?.['required']">
          El nombre es requerido
        </div>
        <div *ngIf="reactiveForm.get('name')?.errors?.['minlength']">
          El nombre debe tener al menos 3 caracteres
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="email" class="block text-sm font-medium text-gray-700">
        Correo
      </label>
      <input type="email" id="email" formControlName="email"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:border-blue-300">
      <div *ngIf="reactiveForm.get('email')?.invalid && reactiveForm.get('email')?.touched"
        class="text-red-500 text-sm">
        <div *ngIf="reactiveForm.get('email')?.errors?.['required']">
          El correo es requerido
        </div>
        <div *ngIf="reactiveForm.get('email')?.errors?.['email']">
          El correo no es válido
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="password" class="block text-sm font-medium text-gray-700">
        Contraseña
      </label>
      <input type="password" id="password" formControlName="password"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:border-blue-300">
      <div *ngIf="reactiveForm.get('password')?.invalid && reactiveForm.get('password')?.touched"
        class="text-red-500 text-sm">
        <div *ngIf="reactiveForm.get('password')?.errors?.['required']">
          La contraseña es requerida
        </div>
        <div *ngIf="reactiveForm.get('password')?.errors?.['minlength']">
          La contraseña debe tener al menos 6 caracteres
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="password2" class="block text-sm font-medium text-gray-700">
        Repetir contraseña
      </label>
      <input type="password" id="password2" formControlName="password2"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:border-blue-300">
      <div *ngIf="reactiveForm.get('password2')?.invalid && reactiveForm.get('password2')?.touched"
        class="text-red-500 text-sm">
        <div *ngIf="reactiveForm.get('password2')?.errors?.['required']">
          La contraseña es requerida
        </div>
        <div *ngIf="reactiveForm.get('password2')?.errors?.['minlength']">
          La contraseña debe tener al menos 6 caracteres
        </div>
        <div *ngIf="reactiveForm.get('password2')?.errors?.['notEqual']">
          Las contraseñas no coinciden
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="phone" class="block text-sm font-medium text-gray-700">
        Teléfono
      </label>
      <input type="text" id="phone" formControlName="phone"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:border-blue-300">
      <div *ngIf="reactiveForm.get('phone')?.invalid && reactiveForm.get('phone')?.touched"
        class="text-red-500 text-sm">
        <div *ngIf="reactiveForm.get('phone')?.errors?.['required']">
          El teléfono es requerido
        </div>
        <div *ngIf="reactiveForm.get('phone')?.errors?.['pattern']">
          El teléfono no es válido
        </div>
      </div>
    </div>

    <button type="submit" class="w-full px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
      Enviar
    </button>
  </form>
</div>